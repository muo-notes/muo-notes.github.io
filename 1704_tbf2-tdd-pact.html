<!doctype html>
<html amp lang="ja">

<head>
    <meta charset="utf-8">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <title>#技術書典 で入手した本: TDDってなんだ（「すいーとみゅーじっく」 vol.1）</title>
    <link rel="canonical" href="https://notes.muo.jp/1704_tbf2-tdd-pact.html" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "NewsArticle",
        "headline": "#技術書典 で入手した本: TDDってなんだ（「すいーとみゅーじっく」 vol.1）",
        "datePublished": "2017-04-13T18:01:00Z",
        "dateModified": "2017-07-14T21:59:00Z",
        "keywords": "技術書典",
        "image": [
        ]
      }
    </script>
    <script async custom-element="amp-list" src="https://cdn.ampproject.org/v0/amp-list-0.1.js"></script>
    <script async custom-template="amp-mustache" src="https://cdn.ampproject.org/v0/amp-mustache-0.1.js"></script>
    <script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <style amp-custom>
        .header-img {
            border-bottom: 1px red solid;
        }
        
        .header {
            background-color: red;
            color: white;
            padding: 2px 2px 2px 6px;
        }
        
        .social-buttons {
            padding-top: 4px;
            text-align: center;
        }
        
        amp-social-share[type="b-hatena"] {
            background-image: url(/res/hatenabookmark-logomark.svg);
        }
        
        h2.navigation,
        h3.navigation {
            background-color: #CED6D3;
            margin-left: 6px;
            margin-bottom: 0px;
            padding-left: 16px;
            width: 160px;
            border-radius: 50px 50px 0 0;
        }
        
        .content {
            margin: 0 6px 0px 6px;
            padding: 8px 4px 8px 4px;
            border-radius: 0 0px 2px 2px;
            background-color: #DFE5E8;
        }
        
        h1.subject {
            font-size: 1.5em;
        }
        
        div.content-wrapper {
            text-align: left;
        }
        
        .review-post pre.cmd {
            overflow: auto;
            padding: 8px;
            background-color: black;
            color: #ffffff;
        }
        
        .review-post pre.emlist {
            overflow: auto;
            margin: 8px;
            background-color: #f9f9f9;
        }
        
        .review-post tt.inline-code {
            font-weight: bold;
        }
        
        .review-post br {
            margin: 0px 0px 12px 0px;
            display: block;
            content: " ";
        }
        
        .review-post h2,
        .review-post h3,
        .review-post h4 {
            color: #757EFF;
            border-bottom: 1px solid #000;
            padding-bottom: 0.1em;
        }
        
        .review-post h2 {
            font-size: 1.5em;
        }
        
        .review-post h3 {
            font-size: 1.2em;
        }
        
        .review-post h4 {
            font-size: 1.1em;
        }
        
        .review-post.image p.caption {
            text-align: center;
            margin-bottom: 1em;
        }
        
        .review-post ul li {
            padding: 0px;
        }
        
        .review-post div.footnote ~ h2 {
            margin-top: 1em;
        }
        
        .review-post div.footnote ~ h3 {
            margin-top: 1em;
        }
        
        .review-post div.footnote ~ h4 {
            margin-top: 1em;
        }
        
        .review-post a.noteref {
            vertical-align: super;
        }
        
        pre.list {
            background-color: #def;
            border: 2px dotted;
            padding: 4px;
        }
        
        .review-post div.column {
            margin: 8px;
            padding: 12px;
            background-color: #eeeeee;
            border-radius: 4px;
        }
        
        @media only screen and (min-width:1119px) {
            nav {
                display: block;
                width: 188px;
                float: left;
            }
        }
        
        @media only screen and (max-width:1118px) {
            nav {
                display: none;
            }
        }

        body {
            background-color: #E4ECEF;
            color: #202121;
        }

        .image {
          width: 60%;
          display: block;
          margin-left: auto;
          margin-right: auto;
        }
    </style>
<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
</head>

<body>
    <div class="content-wrapper">
        <div class="header-img">
            <a href="/"><amp-img media="(max-width: 649px)" src="/res/logo.svg" width=90 height=17></amp-img>
            <amp-img media="(min-width: 650px)" src="/res/logo.svg" width=160 height=30></amp-img></a>
        </div>
        <h1 class="subject">#技術書典 で入手した本: TDDってなんだ（「すいーとみゅーじっく」 vol.1）</h1>
        <div class="content review-post">

<p>4/9(日)に開催された<a href="https://techbookfest.org/event/tbf02" class="link">技術書典2</a>で買ってきた本を読んでいくシリーズ。一覧は<a href="/1704_tbf2-booklist.html">技術書典2で入手した本リスト #技術書典</a>。</p>
<p>今回は「TDDってなんだ」。</p>
<div id="cover" class="image">
<amp-img src="articles/images/1704_tbf2-tdd-pact/cover.jpg" width="300" height="400" layout="responsive" />
<p class="caption">
図1 表紙
</p>
</div>
<p><a href="http://david.heinemeierhansson.com/2014/tdd-is-dead-long-live-testing.html" class="link">TDDは死んだ</a>のかという2014年の議論を下敷きとして、TDDの持つ意味と期待すべき箇所とそうでないエリアをしっかり捉える視点的な話と、現代的な（外部サービス依存が膨らんで3層アーキテクチャ時代のノリでカバーできなくなっている）テストターゲットへ取り組むPactの入門話をカバーした本です。</p>
<p>あとがきに書かれているとおり、blogや講演録の加筆版ということで、章ごとの内容/主張が微妙に重複する部分があるものの、話の筋は一貫しているので混乱せずに読めます。むしろ、「ああ、前の章で書いていたことを別角度から見たらこのような表現になるんだな」と理解の補強に役立つので良い感じです。</p>
<p>すでに電子書籍版を<a href="https://fieldnotes.booth.pm/items/484459" class="link">BOOTHで販売</a>しているので、興味のある方はチェックしてみてください。</p>

<h2><span class="secno"></span>TDDとテストファーストは違うという話</h2>
<ul>
<li>テストによって開発が駆動されること、テストコードが製品コードへフィードバックをもたらすことが大事<ul>
<li>これがとにかく原則で、これを頭から外してしまったら着地点がおかしくなるらしい話だった</li>
<li>各ソースファイルに1対1でテストを書くことを目指してはいない</li>
<li>開発者テストと品質保証テストは目指すものが違うが相補的なもの、という認識を持っておかないとTDDのテストが持つ意味を見誤る</li>
<li>テスト書くべきという論展開をする際に、良い開発プロセスを追求する話と道義的に「やるべき」という話を混ぜないこと</li>
</ul>
</li>
<li>議論レベルがすっきりと整理されてる<ul>
<li>それに加えて、話として全体的に「雑にくくったら同じことを言ってるように見えるかもしれないけど、持っている意味が違うし 直接的だけでなくて補完的意味合いまで含めて考えるとだいぶ違うのだから、ちゃんとそのへん整理して認識しようね?」という話（この要約自体も割と雑にくくってしまっているので要注意）</li>
</ul>
</li>
</ul>

<h2><span class="secno"></span>仕様のテストと実装のテストの違いの話</h2>
<ul>
<li>仕様のテストに寄せることで内部クラスのリファクタにも強いテストを書けるがそれだけで良いのか?という</li>
<li>実装のテストを書いたほうが効率的な場面を3つ挙げている<ul>
<li>挙げられている3点は確かにどれも悩ましい(≒プロジェクト行動上の議論ポイントになる)ところ</li>
<li>これらを明確に意識してテスト記述水準を検討するのは有用だと感じたし、よりよい開発プロセスを求める行動の一種だな、と読んですっきりした</li>
</ul>
</li>
</ul>

<h2><span class="secno"></span>「不安をテストで表現すること」章</h2>
<ul>
<li>最初の章の議論を別の角度から読み解いたもの、に見えた</li>
</ul>

<h2><span class="secno"></span>「なぜテストファーストするのか」章</h2>
<ul>
<li>とてもシンプルで、テストを成功させることと失敗させることの表裏が重要で、そのためにはまずテストを失敗させることから出発するテストファーストがぴったり都合良いという話</li>
</ul>

<h2><span class="secno"></span>「きれいなコード」章</h2>
<ul>
<li>きれいなコードとはどのようなコードか<ul>
<li>著者は、いかに解こうとしている問題のドメインを率直に表現しているか、という視点で見ているという話</li>
</ul>
</li>
<li>そもそもコードのよさは重要なのか、という視点。そして、この向きよりも現存のコードが現実の周囲にどのような影響を及ぼしているか、どこに進んでいくべきか、と考えるべきではという論</li>
</ul>

<h2><span class="secno"></span>「テストと『品質』」章</h2>
<ul>
<li>現代的なテストチームの役割</li>
<li>CIが持つ意味</li>
</ul>

<h2><span class="secno"></span>Pactで始めるコンシューマー駆動契約</h2>
<ul>
<li>Gitのコミットハッシュ単位のステップ・バイ・ステップで話が進んでいくスタイル、（遠隔）ハンズオンしやすくて良いですね</li>
<li>何をPactに持ち込み、何を持ち込まないほうがうまくいくかという実践的な議論も展開されているのでよい</li>
<li>@taiki45さんの<a href="http://techlife.cookpad.com/entry/2016/06/28/164247" class="link">http://techlife.cookpad.com/entry/2016/06/28/164247</a>とあわせて読むと、PactおよびCDC testingに対する認識を深められたので、あわせておすすめ</li>
</ul>

<h2><span class="secno"></span>見つけたtypo</h2>
<p>基本的にPDF版で読み進めたので、<a href="http://pub.fieldnotes.jp/entry/sweetmusic-vol1-support" class="link">「すいーとみゅーじっく」 vol.1 サポート情報</a>の記載分とは重複していません。</p>
<ul>
<li>p.7 「私は読んでいます」→「～呼んでいます」</li>
<li>p.14「学び取る(Learing)Testing」→「学び取る(Learning)Testing」</li>
<li>p.14「到達できるかということを差す」→「到達できるかということを指す」</li>
<li>p.15「洗練されていることででしょうか」→「洗練されていることでしょうか」</li>
<li>p.18「存在をを前提」→「存在を前提」</li>
<li>p.23「ruby向け」→「Ruby向け」</li>
<li>p.23「PactのGithub」→「PactのGitHub」</li>
<li>p.24「ruby 2.3.3p222」→「Ruby 2.3.3p222」</li>
<li>p.35「脆い(Fragile) な検証」→「脆い(Fragile) 検証」</li>
</ul>

最終更新: 2017/07/14 21:59(UTC)
        </div>
        <div class="social-buttons">
            <amp-social-share type="twitter"></amp-social-share>
            <amp-social-share type="b-hatena" width=44 height=44 data-share-endpoint="http://b.hatena.ne.jp/append?CANONICAL_URL"></amp-social-share>
            <amp-social-share type="facebook" data-param-app_id=145634995501895></amp-social-share>
            <amp-social-share type="gplus"></amp-social-share>
        </div>
        <p>Copyright &copy; Kei Nakazawa 2017, Licensed under <a href="https://creativecommons.org/licenses/by/4.0/deed.ja">CC-4.0-BY</a>            unless otherwise noted.</p>
    </div>
    <amp-analytics type="googleanalytics" id="muoanalytics">
        <script type="application/json">
        {
            "vars": {"account": "UA-33160231-3"},
            "triggers": { "trackPageview": { "on": "visible", "request": "pageview" } }
        }
        </script>
    </amp-analytics>
</body>

</html>
